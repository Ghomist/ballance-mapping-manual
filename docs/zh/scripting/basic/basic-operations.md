# 基础操作

本节主要介绍 Virtools 脚本的一些基础操作。

## BB 操作

### 创建 BB

创建可以使用右键菜单 `Add Building Block` 根据分类查找 BB，也可以 `Add Building Block by Name`（也可以使用快捷键 `Ctrl + 左键双击`） 以名称添加 BB。

### 改变参数

双击 BB 可以更改他们的参数。修改参数时，若参数输入没有连接到变量，则会自动创建变量。若参数输入已经连接到了其它 BB 的参数输出，或连接到了 Parameter Operation，则不会在参数表中显示该参数。

此外，部分对 BB 右键选择 `Edit Settings`（或选中 BB 后按下 `S` 快捷键）可以调节他们的设置。设置不同于参数，一般是编写脚本时就固定下来的，无法在运行时动态修改。设置有时很重要，例如 Op 的设置就是它对应的运算操作、物体操作类 BB 的设置能够设置。

### 封装 BB

封装 BB 可以将多个 BB 打包到一起，成为一个新的可自由编辑的 “BB”，这在 Virtools 中称为 **Behavior Graph**（简称 **BG**）。

封装后的 BG 与普通 BB 无异，可以像普通 BB 一样使用。并且 BG 的内部结构完全由开发者控制。你可以为 BG 自由地添加各种输入输出、变量输入输出（右键选择 `Construct`），甚至添加 BB，内部的逻辑结构可以随时修改。

制作 BG 的方法很简单，在空白处右键，选择 `Draw Behavior Graph`（或直接按下 `G` 快捷键），然后进入框选模式，将需要封装的 BB 全部框选即可。若需要移入 / 移出 BG 内的 BB，可以使用 `Ctrl + X` 剪切 BB。

双击 BG 内部的空白处即可将其缩小，也可以用右键 `Rename` （或选中后按下 `F2` 快捷键）设置 BG 的名称。

## 连接线

连接线在拖拽的时候默认会绕过 BB，并且沿轴分布（横平竖直），如果想要直接拉直线的话，可以在连线时按住 `Ctrl`。

在连接线上右键也可以插入控制点（`Insert Control Point`），这提供了更精细化布线的可能性。

::: warning 热知识
精确布线只是存在 **可能性**。因为 BB 的特点，很难保证后续不需要修改 BB 的位置，而一旦拖拽 BB 就会导致它附属的连接线全部自动重排。所以连接线见好就收，不要重叠过多导致完全不可读即可，样式方面不建议过于纠结。
:::

## 查看文档

选中一个 BB 时可以按 `F1` 打开该 BB 的文档（仅英文），在不清楚 BB 的具体用途时读一读文档会很有帮助。

::: tip 提示
一些 Ballance 自带的 BB （例如物理相关的 BB、`TT` 开头的 BB）没有文档。这些 BB 的用途也许可以在本手册的其它部分找到，若没有资料烦请自行研究，或与我们的 [社区](../../mapping/intro/introduction#社区与支持) 交流。
:::
